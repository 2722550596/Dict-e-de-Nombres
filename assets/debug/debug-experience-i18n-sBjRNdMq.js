import{T as m}from"../languages-C7XqvHkR.js";let i="en",e=m[i];function f(){document.getElementById("page-title").textContent=e.debugTool.title,document.getElementById("main-title").textContent=e.debugTool.title,document.getElementById("current-status-title").textContent=e.debugTool.currentStatus,document.getElementById("refreshBtn").textContent=e.debugTool.refreshStatus,document.getElementById("test-operations-title").textContent=e.debugTool.testOperations,document.getElementById("testSimpleBtn").textContent=e.debugTool.testSimpleSession,document.getElementById("testMathBtn").textContent=e.debugTool.testMathSession,document.getElementById("testMixedBtn").textContent=e.debugTool.testMixedSession,document.getElementById("testEmptyBtn").textContent=e.debugTool.testEmptySession,document.getElementById("clearUserBtn").textContent=e.debugTool.clearUserData,document.getElementById("clearAllBtn").textContent=e.debugTool.clearAllData,document.getElementById("operation-log-title").textContent=e.debugTool.operationLog,document.getElementById("clearLogBtn").textContent=e.debugTool.clearLog}document.getElementById("languageSelect").addEventListener("change",t=>{i=t.target.value,e=m[i],f(),localStorage.setItem("selectedLanguage",i)});const g=localStorage.getItem("selectedLanguage");g&&m[g]&&(i=g,e=m[i],document.getElementById("languageSelect").value=g,f());const a={USER_DATA:"frenchNumbers_userData",NUMBER_STATS:"frenchNumbers_numberStats"},T={level:1,experience:0,totalSessions:0,todaySessions:0,lastActiveDate:new Date().toDateString(),totalQuestions:0,totalCorrect:0,maxStreak:0};function n(t,o="info"){const r=document.getElementById("logContainer"),l=new Date().toLocaleTimeString(),c=o==="error"?"error":o==="success"?"success":"info";r.innerHTML+=`<div class="${c}">[${l}] ${t}</div>`,r.scrollTop=r.scrollHeight}function p(){document.getElementById("logContainer").innerHTML=""}function $(){try{const t=localStorage.getItem(a.USER_DATA);if(!t)return n(e.debugTool.noUserDataFound),T;const o=JSON.parse(t),r=new Date().toDateString();return o.lastActiveDate!==r&&(o.todaySessions=0,o.lastActiveDate=r,n(e.debugTool.newDayDetected)),{...T,...o}}catch(t){return n(`${e.debugTool.loadUserDataFailed}: ${t.message}`,"error"),T}}function D(t){try{return localStorage.setItem(a.USER_DATA,JSON.stringify(t)),!0}catch(o){return n(`${e.debugTool.loadUserDataFailed}: ${o.message}`,"error"),!1}}function S(t){return t<100?1:t<300?2:t<600?3:t<1e3?4:t<1500?5:t<2100?6:t<2800?7:t<3600?8:t<4500?9:10}function v(t){const o=t.length,r=t.filter(s=>s.correct).length;if(o===0)return 0;let l=r*10;const c=r/o;c>=.9?l*=1.5:c>=.7&&(l*=1.2);const d=t.filter(s=>s.mode==="math").length;return d>0&&(l+=d*5),Math.round(l)}window.refreshStatus=u;window.testSimpleSession=w;window.testMathSession=E;window.testMixedSession=y;window.testEmptySession=x;window.clearUserData=C;window.clearAllData=U;window.clearLog=p;function b(t){const o=$(),r=v(t),l=t.length,c=t.filter(A=>A.correct).length,d=S(o.experience);o.experience+=r;const s=S(o.experience);return o.level=s,o.totalSessions+=1,o.todaySessions+=1,o.totalQuestions+=l,o.totalCorrect+=c,o.lastActiveDate=new Date().toDateString(),n(`${e.debugTool.level}=${s} (${d}→${s}), ${e.debugTool.experience}=${o.experience} (+${r})`),D(o)?n(`${e.debugTool.testCompleted}`,"success"):n(`${e.debugTool.loadUserDataFailed}`,"error"),{experience:r,levelUp:s>d?{oldLevel:d,newLevel:s}:null}}function u(){var r;const t=$(),o=document.getElementById("currentStatus");o.innerHTML=`
                <strong>${e.debugTool.currentStatus}:</strong><br>
                ${e.debugTool.level}: ${t.level}<br>
                ${e.debugTool.experience}: ${t.experience}<br>
                ${e.debugTool.totalSessions}: ${t.totalSessions}<br>
                ${e.debugTool.todaySessions}: ${t.todaySessions}<br>
                ${e.debugTool.totalQuestions}: ${t.totalQuestions}<br>
                ${e.debugTool.totalCorrect}: ${t.totalCorrect}<br>
                ${e.debugTool.maxStreak}: ${t.maxStreak}<br>
                ${e.debugTool.lastActiveDate}: ${t.lastActiveDate}<br>
                <br>
                <strong>${e.debugTool.localStorageStatus}:</strong><br>
                ${e.debugTool.userDataKey}: ${a.USER_DATA}<br>
                ${e.debugTool.dataExists}: ${localStorage.getItem(a.USER_DATA)?e.debugTool.yes:e.debugTool.no}<br>
                ${e.debugTool.dataSize}: ${((r=localStorage.getItem(a.USER_DATA))==null?void 0:r.length)||0} ${e.debugTool.characters}
            `,n(e.debugTool.statusRefreshed)}function w(){n(e.debugTool.startTestSimple);const o=b([{number:15,correct:!0,userAnswer:"15",mode:"number"},{number:23,correct:!0,userAnswer:"23",mode:"number"},{number:47,correct:!0,userAnswer:"47",mode:"number"},{number:89,correct:!0,userAnswer:"89",mode:"number"},{number:56,correct:!0,userAnswer:"56",mode:"number"}]);n(`${e.debugTool.testCompleted}, ${e.debugTool.experienceGained}: ${o.experience}`,"success"),o.levelUp&&n(`${e.debugTool.congratsLevelUp}${o.levelUp.oldLevel} → ${o.levelUp.newLevel}`,"success"),u()}function E(){n(e.debugTool.startTestMath);const o=b([{number:15,correct:!0,userAnswer:"20",mode:"math",operator:"+"},{number:30,correct:!0,userAnswer:"25",mode:"math",operator:"-"},{number:12,correct:!0,userAnswer:"36",mode:"math",operator:"×"}]);n(`${e.debugTool.testCompleted}, ${e.debugTool.experienceGained}: ${o.experience}`,"success"),o.levelUp&&n(`${e.debugTool.congratsLevelUp}${o.levelUp.oldLevel} → ${o.levelUp.newLevel}`,"success"),u()}function y(){n(e.debugTool.startTestMixed);const o=b([{number:15,correct:!0,userAnswer:"15",mode:"number"},{number:23,correct:!1,userAnswer:"32",mode:"number"},{number:47,correct:!0,userAnswer:"47",mode:"number"},{number:89,correct:!1,userAnswer:"98",mode:"number"}]);n(`${e.debugTool.testCompleted}, ${e.debugTool.experienceGained}: ${o.experience}`,"success"),u()}function x(){n(e.debugTool.startTestEmpty);const o=b([{number:15,correct:!1,userAnswer:"",mode:"number"},{number:23,correct:!1,userAnswer:"  ",mode:"number"},{number:47,correct:!1,userAnswer:"",mode:"number"}]);n(`${e.debugTool.testCompleted}, ${e.debugTool.experienceGained}: ${o.experience}`,"success"),u()}function C(){confirm(e.debugTool.confirmClearUserData)&&(localStorage.removeItem(a.USER_DATA),n(e.debugTool.userDataCleared,"success"),u())}function U(){confirm(e.debugTool.confirmClearAllData)&&(localStorage.removeItem(a.USER_DATA),localStorage.removeItem(a.NUMBER_STATS),n(e.debugTool.allDataCleared,"success"),u())}window.onload=function(){n(e.debugTool.debugToolLoaded),u()};
